summon FallingSand ~ ~.6 ~ {Time:1,Block:log,Passengers:[{id:FallingSand,Time:1,Block:redstone_block,Passengers:[{id:FallingSand,Time:1,Block:activator_rail,Passengers:[{id:MinecartCommandBlock,Command:gamerule commandBlockOutput false},{id:MinecartCommandBlock,Command:gamerule logAdminCommands false},{id:MinecartCommandBlock,Command:fill ~2 ~-3 ~-1 ~8 ~3 ~5 stained_glass 3},{id:MinecartCommandBlock,Command:fill ~2 ~3 ~-1 ~8 ~3 ~5 stained_hardened_clay 3},{id:MinecartCommandBlock,Command:fill ~2 ~-3 ~-1 ~8 ~-3 ~5 stained_hardened_clay 3},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=EnderChests2]},{id:MinecartCommandBlock,Command:summon ArmorStand ~ ~ ~ {Invisible:1,Marker:1,NoGravity:1,CustomName:EnderChests2}},{id:MinecartCommandBlock,Command:execute @e[type=ArmorStand,name=EnderChests1] ~ ~ ~ scoreboard players tag @p add alreadyp1},{id:MinecartCommandBlock,Command:"tellraw @p[tag=alreadyp1] {\"text\":\"tryashtar's Dye-Coded Ender Chests is now fully installed!\",\"color\":\"green\"}"},{id:MinecartCommandBlock,Command:"execute @p ~ ~ ~ tellraw @p[r=0,tag=!alreadyp1] {\"text\":\"You installed part 2, but forgot to install part 1.\nPlease don't forget, or the contraption will not work.\",\"color\":\"yellow\"}"},{id:MinecartCommandBlock,Command:scoreboard players tag @a remove alreadyp1},{id:MinecartCommandBlock,Command:scoreboard objectives add mkstn stat.sneakTime},{id:MinecartCommandBlock,Command:scoreboard objectives add dye1 dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add dye2 dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add dye3 dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add tdye dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add chdir dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add shouldhide dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add td1 dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add td2 dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add td3 dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add gotcart dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add matchcol dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add findrs dummy},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=EnderHolder]},{id:MinecartCommandBlock,Command:summon ArmorStand ~ 250 ~ {Marker:1,Invisible:1,NoGravity:1,CustomName:EnderHolder}},{id:MinecartCommandBlock,Command:tp @e[type=ArmorStand,name=EnderHolder] ~ ~250 ~},{id:MinecartCommandBlock,Command:fill ~3 ~-2 ~ ~7 ~-2 ~4 chain_command_block 3 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~3 ~-2 ~ ~6 ~-2 ~ chain_command_block 5 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-2 ~1 ~7 ~-2 ~1 chain_command_block 4 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:clone ~3 ~-2 ~ ~7 ~-2 ~1 ~3 ~-2 ~2},{id:MinecartCommandBlock,Command:clone ~3 ~-2 ~ ~7 ~-2 ~ ~3 ~-2 ~4},{id:MinecartCommandBlock,Command:fill ~3 ~-1 ~ ~7 ~-1 ~4 chain_command_block 2 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-1 ~ ~7 ~-1 ~ chain_command_block 4 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~3 ~-1 ~1 ~6 ~-1 ~1 chain_command_block 5 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:clone ~3 ~-1 ~ ~7 ~-1 ~1 ~3 ~-1 ~2},{id:MinecartCommandBlock,Command:clone ~3 ~-1 ~ ~7 ~-1 ~ ~3 ~-1 ~4},{id:MinecartCommandBlock,Command:setblock ~3 ~-1 ~ chain_command_block 1 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:setblock ~7 ~-2 ~4 chain_command_block 1 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:clone ~3 ~-2 ~ ~7 ~-1 ~4 ~3 ~ ~},{id:MinecartCommandBlock,Command:clone ~3 ~-2 ~ ~7 ~-2 ~4 ~3 ~2 ~},{id:MinecartCommandBlock,Command:setblock ~3 ~-2 ~ repeating_command_block 5 _ {TrackOutput:0b,Command:entitydata @e[tag=dye1,score_dye1_min=-1,score_dye1=-1] {ArmorItems:[]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~ {Command:entitydata @e[tag=dye1,score_dye1_min=0,score_dye1=0] {ArmorItems:[{},{},{},{id:dye}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~ {Command:entitydata @e[tag=dye1,score_dye1_min=1,score_dye1=1] {ArmorItems:[{},{},{},{id:dye,Damage:1}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~ {Command:entitydata @e[tag=dye1,score_dye1_min=2,score_dye1=2] {ArmorItems:[{},{},{},{id:dye,Damage:2}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-2 ~ {Command:entitydata @e[tag=dye1,score_dye1_min=3,score_dye1=3] {ArmorItems:[{},{},{},{id:dye,Damage:3}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-2 ~1 {Command:entitydata @e[tag=dye1,score_dye1_min=4,score_dye1=4] {ArmorItems:[{},{},{},{id:dye,Damage:4}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~1 {Command:entitydata @e[tag=dye1,score_dye1_min=5,score_dye1=5] {ArmorItems:[{},{},{},{id:dye,Damage:5}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~1 {Command:entitydata @e[tag=dye1,score_dye1_min=6,score_dye1=6] {ArmorItems:[{},{},{},{id:dye,Damage:6}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~1 {Command:entitydata @e[tag=dye1,score_dye1_min=7,score_dye1=7] {ArmorItems:[{},{},{},{id:dye,Damage:7}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~1 {Command:entitydata @e[tag=dye1,score_dye1_min=8,score_dye1=8] {ArmorItems:[{},{},{},{id:dye,Damage:8}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~2 {Command:entitydata @e[tag=dye1,score_dye1_min=9,score_dye1=9] {ArmorItems:[{},{},{},{id:dye,Damage:9}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~2 {Command:entitydata @e[tag=dye1,score_dye1_min=10,score_dye1=10] {ArmorItems:[{},{},{},{id:dye,Damage:10}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~2 {Command:entitydata @e[tag=dye1,score_dye1_min=11,score_dye1=11] {ArmorItems:[{},{},{},{id:dye,Damage:11}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~2 {Command:entitydata @e[tag=dye1,score_dye1_min=12,score_dye1=12] {ArmorItems:[{},{},{},{id:dye,Damage:12}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-2 ~2 {Command:entitydata @e[tag=dye1,score_dye1_min=13,score_dye1=13] {ArmorItems:[{},{},{},{id:dye,Damage:13}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-2 ~3 {Command:entitydata @e[tag=dye1,score_dye1_min=14,score_dye1=14] {ArmorItems:[{},{},{},{id:dye,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~3 {Command:entitydata @e[tag=dye1,score_dye1_min=15,score_dye1=15] {ArmorItems:[{},{},{},{id:dye,Damage:15}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=-1,score_dye2=-1] {ArmorItems:[]} }},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=0,score_dye2=0] {ArmorItems:[{},{},{},{id:dye}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=1,score_dye2=1] {ArmorItems:[{},{},{},{id:dye,Damage:1}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=2,score_dye2=2] {ArmorItems:[{},{},{},{id:dye,Damage:2}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=3,score_dye2=3] {ArmorItems:[{},{},{},{id:dye,Damage:3}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=4,score_dye2=4] {ArmorItems:[{},{},{},{id:dye,Damage:4}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=5,score_dye2=5] {ArmorItems:[{},{},{},{id:dye,Damage:5}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-2 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=6,score_dye2=6] {ArmorItems:[{},{},{},{id:dye,Damage:6}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-1 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=7,score_dye2=7] {ArmorItems:[{},{},{},{id:dye,Damage:7}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=8,score_dye2=8] {ArmorItems:[{},{},{},{id:dye,Damage:8}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=9,score_dye2=9] {ArmorItems:[{},{},{},{id:dye,Damage:9}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=10,score_dye2=10] {ArmorItems:[{},{},{},{id:dye,Damage:10}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~4 {Command:entitydata @e[tag=dye2,score_dye2_min=11,score_dye2=11] {ArmorItems:[{},{},{},{id:dye,Damage:11}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=12,score_dye2=12] {ArmorItems:[{},{},{},{id:dye,Damage:12}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=13,score_dye2=13] {ArmorItems:[{},{},{},{id:dye,Damage:13}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=14,score_dye2=14] {ArmorItems:[{},{},{},{id:dye,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~3 {Command:entitydata @e[tag=dye2,score_dye2_min=15,score_dye2=15] {ArmorItems:[{},{},{},{id:dye,Damage:15}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-1 ~3 {Command:entitydata @e[tag=dye3,score_dye3_min=-1,score_dye3=-1] {ArmorItems:[]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-1 ~2 {Command:entitydata @e[tag=dye3,score_dye3_min=0,score_dye3=0] {ArmorItems:[{},{},{},{id:dye}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~2 {Command:entitydata @e[tag=dye3,score_dye3_min=1,score_dye3=1] {ArmorItems:[{},{},{},{id:dye,Damage:1}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~2 {Command:entitydata @e[tag=dye3,score_dye3_min=2,score_dye3=2] {ArmorItems:[{},{},{},{id:dye,Damage:2}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~2 {Command:entitydata @e[tag=dye3,score_dye3_min=3,score_dye3=3] {ArmorItems:[{},{},{},{id:dye,Damage:3}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~2 {Command:entitydata @e[tag=dye3,score_dye3_min=4,score_dye3=4] {ArmorItems:[{},{},{},{id:dye,Damage:4}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~1 {Command:entitydata @e[tag=dye3,score_dye3_min=5,score_dye3=5] {ArmorItems:[{},{},{},{id:dye,Damage:5}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~1 {Command:entitydata @e[tag=dye3,score_dye3_min=6,score_dye3=6] {ArmorItems:[{},{},{},{id:dye,Damage:6}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~1 {Command:entitydata @e[tag=dye3,score_dye3_min=7,score_dye3=7] {ArmorItems:[{},{},{},{id:dye,Damage:7}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~1 {Command:entitydata @e[tag=dye3,score_dye3_min=8,score_dye3=8] {ArmorItems:[{},{},{},{id:dye,Damage:8}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-1 ~1 {Command:entitydata @e[tag=dye3,score_dye3_min=9,score_dye3=9] {ArmorItems:[{},{},{},{id:dye,Damage:9}]}}},{id:MinecartCommandBlock,Command:blockdata ~7 ~-1 ~ {Command:entitydata @e[tag=dye3,score_dye3_min=10,score_dye3=10] {ArmorItems:[{},{},{},{id:dye,Damage:10}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~ {Command:entitydata @e[tag=dye3,score_dye3_min=11,score_dye3=11] {ArmorItems:[{},{},{},{id:dye,Damage:11}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~ {Command:entitydata @e[tag=dye3,score_dye3_min=12,score_dye3=12] {ArmorItems:[{},{},{},{id:dye,Damage:12}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~ {Command:entitydata @e[tag=dye3,score_dye3_min=13,score_dye3=13] {ArmorItems:[{},{},{},{id:dye,Damage:13}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~ {Command:entitydata @e[tag=dye3,score_dye3_min=14,score_dye3=14] {ArmorItems:[{},{},{},{id:dye,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~ {Command:entitydata @e[tag=dye3,score_dye3_min=15,score_dye3=15] {ArmorItems:[{},{},{},{id:dye,Damage:15}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~ {Command:scoreboard players set @e[tag=ecs] shouldhide 0}},{id:MinecartCommandBlock,Command:blockdata ~5 ~ ~ {Command:stats entity @e[tag=ecs] set AffectedBlocks @e[tag=ecs,c=1] shouldhide}},{id:MinecartCommandBlock,Command:"blockdata ~6 ~ ~ {Command:\"execute @e[tag=ecs] ~ ~ ~ testforblock ~ ~ ~ hopper -1 {Items:[{id:\\\"minecraft:glass\\\",Slot:4b}]}\"}"},{id:MinecartCommandBlock,Command:blockdata ~7 ~ ~ {Command:stats entity @e[tag=ecs] clear AffectedBlocks}},{id:MinecartCommandBlock,Command:blockdata ~7 ~ ~1 {Command:execute @e[tag=ecs,score_shouldhide_min=1] ~ ~ ~ entitydata @e[tag=dye1,r=2,c=1] {ArmorItems:[]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~ ~1 {Command:execute @e[tag=ecs,score_shouldhide_min=1] ~ ~ ~ entitydata @e[tag=dye2,r=2,c=1] {ArmorItems:[]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~ ~1 {Command:execute @e[tag=ecs,score_shouldhide_min=1] ~ ~ ~ entitydata @e[tag=dye3,r=2,c=1] {ArmorItems:[]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~1 {Command:scoreboard players tag @e[tag=ecs] remove ispowered}},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~1 {Command:execute @e[tag=ecs] ~ ~ ~ detect ~ ~ ~ hopper 8 scoreboard players tag @e[tag=ecs,c=1] add ispowered}},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~2 {Command:execute @e[tag=ecs] ~ ~ ~ detect ~ ~ ~ hopper 10 scoreboard players tag @e[tag=ecs,c=1] add ispowered}},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~2 {Command:execute @e[tag=ecs] ~ ~ ~ detect ~ ~ ~ hopper 11 scoreboard players tag @e[tag=ecs,c=1] add ispowered}},{id:MinecartCommandBlock,Command:blockdata ~5 ~ ~2 {Command:execute @e[tag=ecs] ~ ~ ~ detect ~ ~ ~ hopper 12 scoreboard players tag @e[tag=ecs,c=1] add ispowered}},{id:MinecartCommandBlock,Command:blockdata ~6 ~ ~2 {Command:execute @e[tag=ecs] ~ ~ ~ detect ~ ~ ~ hopper 13 scoreboard players tag @e[tag=ecs,c=1] add ispowered}},{id:MinecartCommandBlock,Command:blockdata ~7 ~ ~2 {Command:scoreboard players set @e[tag=ecs] findrs 0}},{id:MinecartCommandBlock,Command:blockdata ~7 ~ ~3 {Command:stats entity @e[tag=ecs] set AffectedBlocks @e[tag=ecs,c=1] findrs}},{id:MinecartCommandBlock,Command:"blockdata ~6 ~ ~3 {Command:\"execute @e[tag=ecs] ~ ~ ~ testforblock ~ ~ ~ hopper -1 {Items:[{id:\\\"minecraft:redstone_block\\\",Slot:3b}]}\"}"},{id:MinecartCommandBlock,Command:blockdata ~5 ~ ~3 {Command:stats entity @e[tag=ecs] clear AffectedBlocks}},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~3 {Command:execute @a ~ ~ ~ scoreboard players tag @e[tag=ecs,score_findrs_min=1,r=5] add ispowered}},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~3 {Command:scoreboard players tag @e[tag=ecs] add nocart}},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~4 {Command:execute @e[tag=emc] ~ ~ ~ scoreboard players tag @e[tag=ecs,r=3] remove nocart}},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~4 {Command:scoreboard players tag @e[tag=ecs] remove needscart}},{id:MinecartCommandBlock,Command:blockdata ~5 ~ ~4 {Command:scoreboard players tag @e[tag=ispowered] add needscart}},{id:MinecartCommandBlock,Command:blockdata ~6 ~ ~4 {Command:scoreboard players tag @e[tag=!nocart] remove needscart}},{id:MinecartCommandBlock,Command:blockdata ~7 ~ ~4 {Command:scoreboard players tag @e[score_dye1=-1] remove needscart}},{id:MinecartCommandBlock,Command:blockdata ~7 ~1 ~4 {Command:scoreboard players tag @e[score_dye2=-1] remove needscart}},{id:MinecartCommandBlock,Command:blockdata ~6 ~1 ~4 {Command:scoreboard players tag @e[score_dye3=-1] remove needscart}},{id:MinecartCommandBlock,Command:blockdata ~5 ~1 ~4 {Command:execute @e[tag=needscart] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,name=EnderCartExists] td1 = @e[tag=needscart,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~4 ~1 ~4 {Command:execute @e[tag=needscart] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,name=EnderCartExists] td2 = @e[tag=needscart,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~3 ~1 ~4 {Command:execute @e[tag=needscart] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,name=EnderCartExists] td3 = @e[tag=needscart,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~3 ~1 ~3 {Command:execute @e[tag=needscart] ~ ~ ~ scoreboard players operation @e[tag=emc] td1 = @e[tag=needscart,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~4 ~1 ~3 {Command:execute @e[tag=needscart] ~ ~ ~ scoreboard players operation @e[tag=emc] td2 = @e[tag=needscart,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~5 ~1 ~3 {Command:execute @e[tag=needscart] ~ ~ ~ scoreboard players operation @e[tag=emc] td3 = @e[tag=needscart,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~6 ~1 ~3 {Command:execute @e[tag=needscart] ~ ~ ~ execute @e[type=ArmorStand,name=EnderCartExists] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,c=1] td1 -= @e[type=ArmorStand,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~7 ~1 ~3 {Command:execute @e[tag=needscart] ~ ~ ~ execute @e[type=ArmorStand,name=EnderCartExists] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,c=1] td2 -= @e[type=ArmorStand,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~7 ~1 ~2 {Command:execute @e[tag=needscart] ~ ~ ~ execute @e[type=ArmorStand,name=EnderCartExists] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,c=1] td3 -= @e[type=ArmorStand,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~6 ~1 ~2 {Command:execute @e[tag=needscart] ~ ~ ~ execute @e[tag=emc] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,c=1] td1 -= @e[type=ArmorStand,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~5 ~1 ~2 {Command:execute @e[tag=needscart] ~ ~ ~ execute @e[tag=emc] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,c=1] td2 -= @e[type=ArmorStand,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~4 ~1 ~2 {Command:execute @e[tag=needscart] ~ ~ ~ execute @e[tag=emc] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,c=1] td3 -= @e[type=ArmorStand,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~3 ~1 ~2 {Command:scoreboard players set @e[tag=needscart] gotcart 0}},{id:MinecartCommandBlock,Command:blockdata ~3 ~1 ~1 {Command:stats entity @e[tag=needscart] set SuccessCount @e[tag=needscart,c=1] gotcart}},{id:MinecartCommandBlock,Command:blockdata ~4 ~1 ~1 {Command:execute @e[tag=needscart] ~ ~ ~ testfor @e[type=ArmorStand,name=EnderCartExists,score_td1_min=0,score_td1=0,score_td2_min=0,score_td2=0,score_td3_min=0,score_td3=0]}},{id:MinecartCommandBlock,Command:blockdata ~5 ~1 ~1 {Command:stats entity @e[tag=needscart] clear SuccessCount}},{id:MinecartCommandBlock,Command:blockdata ~6 ~1 ~1 {Command:execute @e[tag=needscart,score_gotcart_min=1] ~ ~ ~ execute @e[type=ArmorStand,name=EnderHolder] ~ ~ ~ scoreboard players tag @e[tag=emc,score_td1_min=0,score_td1=0,score_td2_min=0,score_td2=0,score_td3_min=0,score_td3=0,r=5] remove notrequested}},{id:MinecartCommandBlock,Command:blockdata ~7 ~1 ~1 {Command:execute @e[tag=needscart,score_gotcart_min=1] ~ ~ ~ execute @e[type=ArmorStand,name=EnderHolder] ~ ~ ~ tp @e[tag=emc,score_td1_min=0,score_td1=0,score_td2_min=0,score_td2=0,score_td3_min=0,score_td3=0,r=5] @e[tag=needscart,score_gotcart_min=1,c=1]}},{id:MinecartCommandBlock,Command:"blockdata ~7 ~1 ~ {Command:\"execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ summon ArmorStand ~ ~ ~  {Invisible:1,Marker:1,NoGravity:1,Tags:[\\\"emc\\\",\\\"handlechest\\\"],CustomName:MinecartCarrier,Passengers:[{id:MinecartChest,CustomDisplayTile:1b,DisplayTile:ender_chest,DisplayOffset:8,CustomName:\\\"Ender Chest\\\",Invulnerable:1b,Tags:[\\\"actualchest\\\"]}]}\"}"},{id:MinecartCommandBlock,Command:blockdata ~6 ~1 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ summon ArmorStand ~ ~ ~  {Invisible:1,Marker:1,NoGravity:1,CustomName:EnderCartExists}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~1 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ scoreboard players operation @e[tag=handlechest,r=2,c=1] dye1 = @e[tag=needscart,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~4 ~1 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ scoreboard players operation @e[tag=handlechest,r=2,c=1] dye2 = @e[tag=needscart,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~3 ~1 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ scoreboard players operation @e[tag=handlechest,r=2,c=1] dye3 = @e[tag=needscart,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~3 ~2 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,name=EnderCartExists,r=2,c=1] dye1 = @e[tag=needscart,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~4 ~2 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,name=EnderCartExists,r=2,c=1] dye2 = @e[tag=needscart,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~5 ~2 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ scoreboard players operation @e[type=ArmorStand,name=EnderCartExists,r=2,c=1] dye3 = @e[tag=needscart,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~6 ~2 ~ {Command:execute @e[tag=needscart,score_gotcart=0] ~ ~ ~ tp @e[type=ArmorStand,name=EnderCartExists,r=2,c=1] @e[type=ArmorStand,name=EnderHolder]}},{id:MinecartCommandBlock,Command:blockdata ~7 ~2 ~ {Command:scoreboard players tag @e[tag=handlechest] remove handlechest}},{id:MinecartCommandBlock,Command:blockdata ~7 ~2 ~1 {Command:execute @e[tag=!ispowered,name=ECS,type=ArmorStand] ~ ~ ~ tp @e[tag=emc,r=3] @e[type=ArmorStand,name=EnderHolder]}},{id:MinecartCommandBlock,Command:blockdata ~6 ~2 ~1 {Command:execute @e[tag=!nocart,name=ECS,type=ArmorStand] ~ ~ ~ tp @e[tag=emc,r=2] @e[type=ArmorStand,c=1]}},{id:MinecartCommandBlock,Command:blockdata ~5 ~2 ~1 {Command:execute @e[tag=!nocart,name=ECS,type=ArmorStand] ~ ~ ~ tp @e[tag=emc,r=2] ~ ~.5 ~}},{id:MinecartCommandBlock,Command:blockdata ~4 ~2 ~1 {Command:execute @e[tag=!nocart,name=ECS,type=ArmorStand,score_chdir_min=1,score_chdir=1] ~ ~ ~ tp @e[type=MinecartChest,tag=actualchest,r=2,c=1] ~ ~ ~ 90 0}},{id:MinecartCommandBlock,Command:blockdata ~3 ~2 ~1 {Command:execute @e[tag=!nocart,name=ECS,type=ArmorStand,score_chdir_min=2,score_chdir=2] ~ ~ ~ tp @e[type=MinecartChest,tag=actualchest,r=2,c=1] ~ ~ ~ 180 0}},{id:MinecartCommandBlock,Command:blockdata ~3 ~2 ~2 {Command:execute @e[tag=!nocart,name=ECS,type=ArmorStand,score_chdir_min=3,score_chdir=3] ~ ~ ~ tp @e[type=MinecartChest,tag=actualchest,r=2,c=1] ~ ~ ~ -90 0}},{id:MinecartCommandBlock,Command:blockdata ~4 ~2 ~2 {Command:execute @e[tag=!nocart,name=ECS,type=ArmorStand,score_chdir_min=4,score_chdir=4] ~ ~ ~ tp @e[type=MinecartChest,tag=actualchest,r=2,c=1] ~ ~ ~ 0 0}},{id:MinecartCommandBlock,Command:blockdata ~5 ~2 ~2 {Command:execute @e[type=ArmorStand,name=EnderHolder] ~ ~ ~ tp @e[tag=notrequested,r=10] @e[type=ArmorStand,c=1]}},{id:MinecartCommandBlock,Command:blockdata ~6 ~2 ~2 {Command:scoreboard players tag @e[tag=emc] add notrequested}},{id:MinecartCommandBlock,Command:blockdata ~7 ~2 ~2 {Command:execute @e[tag=emc] ~ ~ ~ scoreboard players operation @e[tag=emc,c=1] td1 = @e[tag=emc,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~7 ~2 ~3 {Command:execute @e[tag=emc] ~ ~ ~ scoreboard players operation @e[tag=emc,c=1] td2 = @e[tag=emc,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~6 ~2 ~3 {Command:execute @e[tag=emc] ~ ~ ~ scoreboard players operation @e[tag=emc,c=1] td3 = @e[tag=emc,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~5 ~2 ~3 {Command:execute @e[tag=ecs] ~ ~ ~ scoreboard players operation @e[tag=emc,r=2,c=1] td1 -= @e[tag=ecs,c=1] dye1}},{id:MinecartCommandBlock,Command:blockdata ~4 ~2 ~3 {Command:execute @e[tag=ecs] ~ ~ ~ scoreboard players operation @e[tag=emc,r=2,c=1] td2 -= @e[tag=ecs,c=1] dye2}},{id:MinecartCommandBlock,Command:blockdata ~3 ~2 ~3 {Command:execute @e[tag=ecs] ~ ~ ~ scoreboard players operation @e[tag=emc,r=2,c=1] td3 -= @e[tag=ecs,c=1] dye3}},{id:MinecartCommandBlock,Command:blockdata ~3 ~2 ~4 {Command:execute @e[tag=ecs] ~ ~ ~ scoreboard players tag @e[tag=emc,r=2,c=1] add wrongcolor}},{id:MinecartCommandBlock,Command:blockdata ~4 ~2 ~4 {Command:execute @e[tag=ecs] ~ ~ ~ scoreboard players tag @e[tag=emc,r=2,c=1,score_td1_min=0,score_td1=0,score_td2_min=0,score_td2=0,score_td3_min=0,score_td3=0] remove wrongcolor}},{id:MinecartCommandBlock,Command:blockdata ~5 ~2 ~4 {Command:execute @e[tag=ecs] ~ ~ ~ tp @e[tag=wrongcolor,r=2,c=1] @e[type=ArmorStand,name=EnderHolder]}},{id:MinecartCommandBlock,Command:setblock ~1 ~-2 ~ command_block 0 _ {Command:fill ~-1 ~ ~ ~ ~2 ~ air,auto:1b}},{id:MinecartCommandBlock,Command:"setblock ~ ~-3 ~2 command_block 4 _ {Command:summon FallingSand ~ ~.6 ~ {Time:1,Block:log,Passengers:[{id:FallingSand,Time:1,Block:redstone_block,Passengers:[{id:FallingSand,Time:1,Block:activator_rail,Passengers:[{id:MinecartCommandBlock,Command:fill ~2 ~-3 ~-3 ~8 ~3 ~3 air},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=EnderChests2]},{id:MinecartCommandBlock,Command:execute @e[type=ArmorStand,name=EnderChests1] ~ ~ ~ scoreboard players tag @p add noremovep1},{id:MinecartCommandBlock,Command:\"tellraw @p {\\\\\\\"text\\\\\\\":\\\\\\\"All Dye-Coded Ender Chests objectives and entities have been fully removed!\\\\\\\",\\\\\\\"color\\\\\\\":\\\\\\\"red\\\\\\\"}\"},{id:MinecartCommandBlock,Command:\"tellraw @p[tag=noremovep1] {\\\\\\\"text\\\\\\\":\\\\\\\"In order to fully uninstall the contraption, also uninstall part 1.\\\\\\\",\\\\\\\"color\\\\\\\":\\\\\\\"yellow\\\\\\\"}\"},{id:MinecartCommandBlock,Command:\"execute @p ~ ~ ~ tellraw @p[r=0,tag=!noremovep1] {\\\\\\\"text\\\\\\\":\\\\\\\"The contraption has been fully uninstalled.\\\\\\\",\\\\\\\"color\\\\\\\":\\\\\\\"yellow\\\\\\\"}\"},{id:MinecartCommandBlock,Command:\"tellraw @p [{\\\\\\\"text\\\\\\\":\\\\\\\"The ender minecarts have not been killed, so as to preserve items. What should I do with them?\\\\\\\",\\\\\\\"color\\\\\\\":\\\\\\\"yellow\\\\\\\"},{\\\\\\\"text\\\\\\\":\\\\\\\"\n[Teleport them to me]\\\\\\\",\\\\\\\"color\\\\\\\":\\\\\\\"green\\\\\\\",\\\\\\\"hoverEvent\\\\\\\":{\\\\\\\"action\\\\\\\":\\\\\\\"show_text\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"Bring all ender chest minecarts to you\\\\\\\"},\\\\\\\"clickEvent\\\\\\\":{\\\\\\\"action\\\\\\\":\\\\\\\"run_command\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"/tp @e[tag=actualchest] @p\\\\\\\"}},{\\\\\\\"text\\\\\\\":\\\\\\\"   \\\\\\\"},{\\\\\\\"text\\\\\\\":\\\\\\\"[Kill them]\\\\\\\",\\\\\\\"color\\\\\\\":\\\\\\\"red\\\\\\\",\\\\\\\"hoverEvent\\\\\\\":{\\\\\\\"action\\\\\\\":\\\\\\\"show_text\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"This will cause the items inside to drop\\\\\\\"},\\\\\\\"clickEvent\\\\\\\":{\\\\\\\"action\\\\\\\":\\\\\\\"run_command\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"/kill @e[tag=actualchest]\\\\\\\"}}]\"},{id:MinecartCommandBlock,Command:scoreboard players tag @a remove noremovep1},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=EnderHolder]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=MinecartCarrier]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=ECS]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=Dye1]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=Dye2]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=Dye3]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=EnderCartExists]},{id:MinecartCommandBlock,Command:kill @e[type=ArmorStand,name=PleaseInstall1]},{id:MinecartCommandBlock,Command:scoreboard objectives remove mkstn},{id:MinecartCommandBlock,Command:scoreboard objectives remove dye1},{id:MinecartCommandBlock,Command:scoreboard objectives remove dye2},{id:MinecartCommandBlock,Command:scoreboard objectives remove dye3},{id:MinecartCommandBlock,Command:scoreboard objectives remove tdye},{id:MinecartCommandBlock,Command:scoreboard objectives remove chdir},{id:MinecartCommandBlock,Command:scoreboard objectives remove shouldhide},{id:MinecartCommandBlock,Command:scoreboard objectives remove td1},{id:MinecartCommandBlock,Command:scoreboard objectives remove td2},{id:MinecartCommandBlock,Command:scoreboard objectives remove td3},{id:MinecartCommandBlock,Command:scoreboard objectives remove gotcart},{id:MinecartCommandBlock,Command:scoreboard objectives remove matchcol},{id:MinecartCommandBlock,Command:scoreboard objectives remove findrs},{id:MinecartCommandBlock,Command:setblock ~1 ~-2 ~ command_block 0 _ {Command:fill ~-1 ~ ~ ~ ~2 ~ air,auto:1b}},{id:MinecartCommandBlock,Command:kill @e[type=MinecartCommandBlock,r=2]}]}]}]}}"},{id:MinecartCommandBlock,Command:setblock ~2 ~-2 ~ lever 10},{id:MinecartCommandBlock,Command:kill @e[type=MinecartCommandBlock,r=2]}]}]}]}
